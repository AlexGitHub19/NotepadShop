@model  NotepadShop.Models.Admin.AddItemViewModel
@{
    ViewBag.Title = "AddNewItem";
}

@section styles {
    <link type="text/css" rel="stylesheet" href="~/Content/Admin/AddNewItem.css" />
    <link type="text/css" rel="stylesheet" href="~/Content/Shared/ImageLoader.css" />
}

@section scripts {
    <script type="text/javascript" src="~/Scripts/Shared/ImageLoader.js"></script>
    <script type="text/javascript" src="~/Scripts/Admin/AddNewItem.js"></script>
}

<div id="addNewItemContainer">
    <h5>@ViewBag.ResourceManager.GetString("addNewItemMessage")</h5>

    <h6>Choose category</h6>
    <div class="input-field category-container">
        <select data-bind="options: availableCategories, value: selectedCategory"></select>
    </div>

    <h6>Name</h6>
    <div>
        <div class="ns-tabs">
            <input type="radio" id="tabItem1" name="ns-tab-control" checked>
            <input type="radio" id="tabItem2" name="ns-tab-control">
            <input type="radio" id="tabItem3" name="ns-tab-control">
            <ul>
                <li title="Russian">
                    <label for="tabItem1" role="button">
                        <span>Russian</span>
                    </label>
                </li>
                <li title="English">
                    <label for="tabItem2" role="button">
                        <span>English</span>
                    </label>
                </li>
                <li title="Ukrainian">
                    <label for="tabItem3" role="button">
                        <span>Ukrainian</span>
                    </label>
                </li>
            </ul>

            <div class="ns-tabs-slider"><div class="indicator"></div></div>
            <div class="ns-tab-content">
                <section>
                    <div class="input-field">
                        <input id="ruNameInput" type="text" class="validate" data-bind="textInput: nameRu">
                        <label for="ruNameInput">Name</label>
                    </div>
                </section>
                <section>
                    <div class="input-field">
                        <input id="enNameInput" type="text" class="validate" data-bind="textInput: nameEn">
                        <label for="enNameInput">Name</label>
                    </div>
                </section>
                <section>
                    <div class="input-field">
                        <input id="ukNameInput" type="text" class="validate" data-bind="textInput: nameUk">
                        <label for="ukNameInput">Name</label>
                    </div>
                </section>
            </div>
        </div>

    </div>
    <div class="input-field">
        <input id="itemPriceInput" type="number" class="validate" data-bind="textInput: price">
        <label for="itemPriceInput">@ViewBag.ResourceManager.GetString("price")</label>
    </div>

    <a class="waves-effect waves-light btn" data-bind="click: createItemClick">Create</a>

    <h6>Main image</h6>
    <div class="loader-container">
        <div class="loader-image-container">
            <div class="loader-btn-contaner">
                <i class="material-icons loader-btn">file_download</i>
            </div>
            <input id="mainImageInput" type='file' class="loader-image-input" accept=".png, .jpg, .jpeg" data-bind="event:{change: onMainImageChange}" />
            <div class="loader-image-style loader-image-replacement"></div>
            <img class="loader-image-style loader-image" src="" alt="upload image" />
            <div class="image-size-container"></div>
        </div>
    </div>

    <h6>Additional images</h6>
    <i class="material-icons add-image-btn" data-bind="click: addNewImage">add</i>
    <div class="additional-images-container" data-bind="foreach: additionalmages">
        <div class="loader-container">
            <div class="loader-image-container">
                <div class="loader-btn-contaner">
                    <i class="material-icons loader-btn">file_download</i>
                </div>
                <input type='file' class="loader-image-input" accept=".png, .jpg, .jpeg" data-bind="event:{change: $root.onAdditinalImageChange}" />
                <div class="loader-image-style loader-image-replacement"></div>
                <img class="loader-image-style loader-image" src="" alt="upload image" />
                <div class="image-size-container"></div>
                <div class="delete-img-btn-container">
                    <p class="delete-img-btn" data-bind="click: $parent.removeAdditionalImage">Remove</p>
                </div>
            </div>
        </div>
    </div>


</div>


<script type="text/javascript">
    var categories = @Html.Raw(Json.Encode(Model.Categories));
    var addItemKey = '@Model.Key';
</script>

